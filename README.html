<h1 id="cyclistic-bike-share-analysis">Cyclistic Bike-Share Analysis</h1>
<h4 id="description-the-cyclistic-bike-share-analysis-project-aims-to-explore-and-analyze-bike-sharing-data-to-understand-user-behavior-and-improve-the-service-this-project-uses-sqlite-for-data-management-and-r-for-data-analysis-">Description: The Cyclistic Bike-Share Analysis project aims to explore and analyze bike-sharing data to understand user behavior and improve the service. This project uses SQLite for data management and R for data analysis.</h4>
<h2 id="project-overview">Project Overview</h2>
<p>The Cyclistic Bike-Share Analysis project focuses on evaluating bike usage patterns to inform marketing strategies and service improvements. The data consists of rides taken from a bike-sharing service and includes attributes such as ride duration, start and end stations, and user types.</p>
<h2 id="steps-of-the-analysis">Steps of the Analysis</h2>
<h2 id="ask">Ask</h2>
<p>In this phase, the goal is to understand the business problem and how data analysis can provide actionable insights.</p>
<h3 id="business-task">Business Task</h3>
<p>Cyclistic, a fictional bike-share company, is interested in maximizing the number of annual memberships. Their historical data shows that casual riders (those who pay for a single ride or day pass) might be a potential target for converting into annual members. The company wants to know how casual riders and annual members use Cyclistic bikes differently to inform a marketing strategy aimed at converting casual riders into paying members.</p>
<h3 id="key-stakeholders">Key Stakeholders</h3>
<ul>
<li><strong>Cyclistic Executives</strong>: Focus on how the insights from data analysis can help improve membership numbers.</li>
<li><strong>Marketing Team</strong>: Will use the analysis to develop targeted campaigns aimed at casual riders.</li>
<li><strong>Data Analytics Team</strong>: Responsible for providing the insights through analysis of the historical trip data.</li>
</ul>
<h3 id="key-questions">Key Questions</h3>
<ol>
<li>How do annual members and casual riders use Cyclistic bikes differently?</li>
<li>Why would casual riders buy annual memberships?</li>
<li>How can Cyclistic use digital media to influence casual riders to become members?</li>
</ol>
<p>By answering these questions, the analysis will help guide Cyclistic in improving their marketing strategy to boost membership.</p>
<h2 id="prepare">Prepare</h2>
<p>The <strong>Prepare</strong> phase involves gathering the relevant data, ensuring its reliability, and understanding any potential limitations.</p>
<h3 id="data-source">Data Source</h3>
<p>The data used for this analysis comes from Cyclistic&#39;s historical bike-share data. The dataset includes details such as:</p>
<ul>
<li>Ride duration</li>
<li>Start and end stations</li>
<li>Type of bike used (classic, docked, or electric)</li>
<li>User type (casual or annual member)</li>
</ul>
<p>The data is stored in CSV files and was imported into an SQLite database for analysis.</p>
<h3 id="data-integrity">Data Integrity</h3>
<p>Before analysis, it was essential to evaluate the integrity of the data:</p>
<ul>
<li><strong>Consistency</strong>: Checked if the data was consistent, especially in terms of time formats, bike types, and user categories.</li>
<li><strong>Completeness</strong>: Verified that there were no missing or null values in critical columns, such as <code>ride_id</code>, <code>started_at</code>, <code>ended_at</code>, <code>start_station_name</code>, and <code>end_station_name</code>.</li>
<li><strong>Accuracy</strong>: Removed records with inconsistencies, such as rides that had an end time earlier than the start time.</li>
</ul>
<h3 id="data-preparation">Data Preparation</h3>
<ol>
<li><p><strong>Database Creation</strong>:
A new SQLite database (<code>cyclistic_data.db</code>) was created to store the imported data for analysis. </p>
</li>
<li><p><strong>Data Import</strong>:
The data from CSV files was imported into the SQLite database using the following Python code:
```python
import sqlite3
import pandas as pd
import csv
import os</p>
<h1 id="path-to-the-directory-containing-csv-files">Path to the directory containing CSV files</h1>
<p>csv_dir = &#39;R:/cyclistic-case-study/&#39;</p>
<h1 id="create-a-new-sqlite-database">Create a new SQLite database</h1>
<p>conn = sqlite3.connect(&#39;R:/cyclistic-case-study/cyclistic_data.db&#39;)</p>
<h1 id="function-to-import-a-csv-file">Function to import a CSV file</h1>
<p>def import_csv(file_path):</p>
<pre><code><span class="hljs-keyword">with</span> open(file_path, <span class="hljs-string">'r'</span>) <span class="hljs-keyword">as</span> f:
    reader = csv.reader(f)
    next(reader)  <span class="hljs-comment"># Skip the header row</span>
    <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> reader:
        cur.execute(<span class="hljs-string">'''
            INSERT INTO rides (
                ride_id, rideable_type, started_at, ended_at,
                start_station_name, start_station_id, end_station_name,
                end_station_id, start_lat, start_lng, end_lat, end_lng,
                member_casual
            ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
        '''</span>, row)
</code></pre><h1 id="loop-through-each-csv-file-in-the-directory">Loop through each CSV file in the directory</h1>
<p>for file in os.listdir(csv_dir):</p>
<pre><code><span class="hljs-keyword">if</span> <span class="hljs-keyword">file</span>.endswith(<span class="hljs-string">'.csv'</span>):
    df = pd.read_csv(os.path.<span class="hljs-keyword">join</span>(csv_dir, <span class="hljs-keyword">file</span>))
    df.to_sql(name=<span class="hljs-string">'rides'</span>, <span class="hljs-keyword">con</span>=conn, if_exists=<span class="hljs-string">'append'</span>, <span class="hljs-built_in">index</span>=False)
</code></pre><p>conn.close()</p>
</li>
<li><p><strong>Data Verification</strong>:
After importing the data, it was essential to verify its accuracy by running the following SQL queries:</p>
<pre><code class="lang-sql"><span class="hljs-comment">-- View sample data</span>
<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> rides <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;
</code></pre>
<p>Output:</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>ride_id</th>
<th>rideable_type</th>
<th>started_at</th>
<th>ended_at</th>
<th>start_station_name</th>
<th>start_station_id</th>
<th>end_station_name</th>
<th>end_station_id</th>
<th>start_lat</th>
<th>start_lng</th>
<th>end_lat</th>
<th>end_lng</th>
<th>member_casual</th>
</tr>
</thead>
<tbody>
<tr>
<td>F96D5A74A3E41399</td>
<td>electric_bike</td>
<td>21.01.2023 20:05</td>
<td>21.01.2023 20:16</td>
<td>Lincoln Ave &amp; Fullerton Ave</td>
<td>TA1309000058</td>
<td>Hampden Ct &amp; Diversey Ave</td>
<td>202480.0</td>
<td>41.924073935</td>
<td>-87.646278381</td>
<td>41.93</td>
<td>-87.64</td>
<td>member</td>
</tr>
<tr>
<td>13CB7EB698CEDB88</td>
<td>classic_bike</td>
<td>10.01.2023 15:37</td>
<td>10.01.2023 15:46</td>
<td>Kimbark Ave &amp; 53rd St</td>
<td>TA1309000037</td>
<td>Greenwood Ave &amp; 47th St</td>
<td>TA1308000002</td>
<td>41.799568</td>
<td>-87.594747</td>
<td>41.809835</td>
<td>-87.599383</td>
<td>member</td>
</tr>
<tr>
<td>BD88A2E670661CE5</td>
<td>electric_bike</td>
<td>02.01.2023 07:51</td>
<td>02.01.2023 08:05</td>
<td>Western Ave &amp; Lunt Ave</td>
<td>RP-005</td>
<td>Valli Produce - Evanston Plaza</td>
<td>599</td>
<td>42.008571</td>
<td>-87.6904828333333</td>
<td>42.039742</td>
<td>-87.699413</td>
<td>casual</td>
</tr>
<tr>
<td>C90792D034FED968</td>
<td>classic_bike</td>
<td>22.01.2023 10:52</td>
<td>22.01.2023 11:01</td>
<td>Kimbark Ave &amp; 53rd St</td>
<td>TA1309000037</td>
<td>Greenwood Ave &amp; 47th St</td>
<td>TA1308000002</td>
<td>41.799568</td>
<td>-87.594747</td>
<td>41.809835</td>
<td>-87.599383</td>
<td>member</td>
</tr>
<tr>
<td>3397017529188E8A</td>
<td>classic_bike</td>
<td>12.01.2023 13:58</td>
<td>12.01.2023 14:13</td>
<td>Kimbark Ave &amp; 53rd St</td>
<td>TA1309000037</td>
<td>Greenwood Ave &amp; 47th St</td>
<td>TA1308000002</td>
<td>41.799568</td>
<td>-87.594747</td>
<td>41.809835</td>
<td>-87.599383</td>
<td>member</td>
</tr>
<tr>
<td>58E68156DAE3E311</td>
<td>electric_bike</td>
<td>31.01.2023 07:18</td>
<td>31.01.2023 07:21</td>
<td>Lakeview Ave &amp; Fullerton Pkwy</td>
<td>TA1309000019</td>
<td>Hampden Ct &amp; Diversey Ave</td>
<td>202480.0</td>
<td>41.926068902</td>
<td>-87.638858199</td>
<td>41.93</td>
<td>-87.64</td>
<td>member</td>
</tr>
<tr>
<td>2F7194B6012A98D4</td>
<td>electric_bike</td>
<td>15.01.2023 21:18</td>
<td>15.01.2023 21:32</td>
<td>Kimbark Ave &amp; 53rd St</td>
<td>TA1309000037</td>
<td>Greenwood Ave &amp; 47th St</td>
<td>TA1308000002</td>
<td>41.799553633</td>
<td>-87.594616652</td>
<td>41.809835</td>
<td>-87.599383</td>
<td>member</td>
</tr>
<tr>
<td>DB1CF84154D6A049</td>
<td>classic_bike</td>
<td>25.01.2023 10:49</td>
<td>25.01.2023 10:58</td>
<td>Kimbark Ave &amp; 53rd St</td>
<td>TA1309000037</td>
<td>Greenwood Ave &amp; 47th St</td>
<td>TA1308000002</td>
<td>41.799568</td>
<td>-87.594747</td>
<td>41.809835</td>
<td>-87.599383</td>
<td>member</td>
</tr>
<tr>
<td>34EAB943F88C4C5D</td>
<td>electric_bike</td>
<td>25.01.2023 20:49</td>
<td>25.01.2023 21:02</td>
<td>Kimbark Ave &amp; 53rd St</td>
<td>TA1309000037</td>
<td>Greenwood Ave &amp; 47th St</td>
<td>TA1308000002</td>
<td>41.799587488</td>
<td>-87.594670296</td>
<td>41.809835</td>
<td>-87.599383</td>
<td>member</td>
</tr>
<tr>
<td>BC8AB1AA51DA9115</td>
<td>classic_bike</td>
<td>06.01.2023 16:37</td>
<td>06.01.2023 16:49</td>
<td>Kimbark Ave &amp; 53rd St</td>
<td>TA1309000037</td>
<td>Greenwood Ave &amp; 47th St</td>
<td>TA1308000002</td>
<td>41.799568</td>
<td>-87.594747</td>
<td>41.809835</td>
<td>-87.599383</td>
<td>member</td>
</tr>
</tbody>
</table>
<pre><code class="lang-sql">   -- Check the total number <span class="hljs-keyword">of</span> records imported
   <span class="hljs-keyword">SELECT</span> COUNT<span class="hljs-comment">(*) FROM rides;

   -- Check for any missing values in critical columns
   SELECT COUNT(*)</span> <span class="hljs-keyword">FROM</span> rides <span class="hljs-keyword">WHERE</span> ride_id <span class="hljs-keyword">IS</span> NULL <span class="hljs-keyword">OR</span> start_station_name <span class="hljs-keyword">IS</span> NULL;

   -- Check the distribution <span class="hljs-keyword">of</span> bike types <span class="hljs-keyword">and</span> user types
   <span class="hljs-keyword">SELECT</span> rideable_type, COUNT<span class="hljs-comment">(*) FROM rides GROUP BY rideable_type;
   SELECT member_casual, COUNT(*)</span> <span class="hljs-keyword">FROM</span> rides <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> member_casual;
</code></pre>
<h3 id="4-data-cleaning">4. Data Cleaning</h3>
<p>The data cleaning process was critical to ensure accurate and reliable analysis. The following steps were taken:</p>
<ol>
<li><strong>Duplicate Records</strong>: 
Removed any duplicate records based on the <code>ride_id</code> to ensure each ride was unique.<pre><code class="lang-sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> rides <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">rowid</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">MIN</span>(<span class="hljs-keyword">rowid</span>) <span class="hljs-keyword">FROM</span> rides <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> ride_id);
</code></pre>
</li>
<li><strong>Missing Data</strong>:
Removed rows where important fields like start_station_name or end_station_name were missing, as these records wouldn&#39;t contribute to meaningful insights.<pre><code class="lang-sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> rides <span class="hljs-keyword">WHERE</span> start_station_name <span class="hljs-keyword">IS</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">OR</span> end_station_name <span class="hljs-keyword">IS</span> <span class="hljs-literal">NULL</span>;
</code></pre>
</li>
<li><strong>Invalid Time Entries</strong>:
Identified and removed any rides where the ended_at timestamp was earlier than the started_at, as these entries were logically impossible.<pre><code class="lang-sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> rides <span class="hljs-keyword">WHERE</span> ended_at &lt; started_at;
</code></pre>
</li>
<li><strong>Sanity Checks</strong>:<ul>
<li>Verified that all important columns (such as ride_id, start_station_name, and member_casual) were properly populated.</li>
<li>Checked for the correct distribution of bike types and user types to ensure data consistency.<pre><code class="lang-sql"><span class="hljs-keyword">SELECT</span> rideable_type, COUNT<span class="hljs-comment">(*) FROM rides GROUP BY rideable_type;
SELECT member_casual, COUNT(*)</span> <span class="hljs-keyword">FROM</span> rides <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> member_casual;
</code></pre>
By implementing these cleaning steps, the dataset was refined to be consistent, accurate, and ready for deeper analysis.</li>
</ul>
</li>
</ol>
<h2 id="analyze">Analyze</h2>
<p>The <strong>Analyze</strong> phase involves exploring the cleaned data to derive insights and answer the key business questions. The focus is on identifying patterns in how casual riders and annual members use Cyclistic bikes differently.</p>
<h3 id="1-descriptive-statistics">1. Descriptive Statistics</h3>
<p>To begin the analysis, descriptive statistics were calculated to summarize the key features of the data, such as ride duration, number of rides, and distribution of user types.</p>
<pre><code class="lang-sql">-- Calculate total number of rides by user type
SELECT member_casual, COUNT(<span class="hljs-symbol">*</span>) AS ride_count 
FROM rides 
GROUP BY member_casual;

Output:
|<span class="hljs-string"> member_casual </span>|<span class="hljs-string"> ride_count </span>|
|<span class="hljs-string"> ------------- </span>|<span class="hljs-string"> ---------- </span>|
|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> 2059037    </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 3660568    </span>|

-- Calculate average ride duration (in minutes) by user type
SELECT member_casual, AVG((JULIANDAY(ended_at) - JULIANDAY(started_at)) <span class="hljs-symbol">*</span> 24 <span class="hljs-symbol">*</span> 60) AS avg_ride_duration 
FROM rides 
GROUP BY member_casual;

Output:
|<span class="hljs-string"> member_casual </span>|<span class="hljs-string"> avg_ride_duration </span>|
|<span class="hljs-string"> ------------- </span>|<span class="hljs-string"> ----------------- </span>|
|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> 28.24825055744    </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 12.5258002356036  </span>|

-- Count the number of rides by rideable type and user type
SELECT member_casual, rideable_type, COUNT(<span class="hljs-symbol">*</span>) AS ride_count 
FROM rides 
GROUP BY member_casual, rideable_type;

Output:
|<span class="hljs-string"> member_casual </span>|<span class="hljs-string"> rideable_type </span>|<span class="hljs-string"> ride_count </span>|
|<span class="hljs-string"> ------------- </span>|<span class="hljs-string"> ------------- </span>|<span class="hljs-string"> ---------- </span>|
|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> classic_bike  </span>|<span class="hljs-string"> 876858     </span>|
|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> docked_bike   </span>|<span class="hljs-string"> 78287      </span>|
|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> electric_bike </span>|<span class="hljs-string"> 1103892    </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string"> classic_bike  </span>|<span class="hljs-string"> 1819110    </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string"> electric_bike </span>|<span class="hljs-string"> 1841458    </span>|
</code></pre>
<p>Insights:</p>
<ul>
<li>Casual riders take longer rides on average than members.</li>
<li>Members use Cyclistic bikes more frequently, likely for commuting.</li>
<li>Both casual riders and members prefer electric bikes, though casual riders use them slightly more.</li>
</ul>
<h3 id="2-ride-patterns-by-day-of-the-week">2. Ride Patterns by Day of the Week</h3>
<p>Analyzing how ride usage varies by day of the week helps in understanding when users are most active. This can provide insights into user behavior, particularly for targeting marketing campaigns.</p>
<pre><code class="lang-sql">-- Extract the day of the week and count rides by user type
SELECT CASE STRFTIME('%w', started_at)
         WHEN '0' THEN 'Sunday'
         WHEN '1' THEN 'Monday'
         WHEN '2' THEN 'Tuesday'
         WHEN '3' THEN 'Wednesday'
         WHEN '4' THEN 'Thursday'
         WHEN '5' THEN 'Friday'
         WHEN '6' THEN 'Saturday'
       END AS day_of_week, member_casual, COUNT(<span class="hljs-symbol">*</span>) AS ride_count
FROM rides
GROUP BY day_of_week, member_casual
ORDER BY day_of_week, ride_count desc;

Output:
|<span class="hljs-string"> day_of_week </span>|<span class="hljs-string"> member_casual </span>|<span class="hljs-string"> ride_count </span>|
|<span class="hljs-string"> ----------- </span>|<span class="hljs-string"> ------------- </span>|<span class="hljs-string"> ---------- </span>|
|<span class="hljs-string"> Friday      </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 531582     </span>|
|<span class="hljs-string"> Friday      </span>|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> 311907     </span>|
|<span class="hljs-string"> Monday      </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 494558     </span>|
|<span class="hljs-string"> Monday      </span>|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> 234818     </span>|
|<span class="hljs-string"> Saturday    </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 472846     </span>|
|<span class="hljs-string"> Saturday    </span>|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> 410684     </span>|
|<span class="hljs-string"> Sunday      </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 408829     </span>|
|<span class="hljs-string"> Sunday      </span>|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> 335668     </span>|
|<span class="hljs-string"> Thursday    </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 589572     </span>|
|<span class="hljs-string"> Thursday    </span>|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> 270596     </span>|
|<span class="hljs-string"> Tuesday     </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 576743     </span>|
|<span class="hljs-string"> Tuesday     </span>|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> 246211     </span>|
|<span class="hljs-string"> Wednesday   </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 586438     </span>|
|<span class="hljs-string"> Wednesday   </span>|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> 249153     </span>|
</code></pre>
<p>Insights:</p>
<ul>
<li>Casual riders are most active on weekends, particularly on Saturday and    Sunday, with a significant dip during the weekdays.</li>
<li>Annual members maintain a steady usage throughout the week, with peaks on Wednesday and Thursday, indicating frequent use during weekdays, likely for commuting.</li>
<li>Marketing campaigns can be tailored to weekends for casual riders and weekdays for members, focusing on converting casual riders during their peak usage times.</li>
</ul>
<h3 id="3-ride-duration-distribution">3. Ride Duration Distribution</h3>
<p>Understanding the distribution of ride durations helps identify differences in trip behavior between casual riders and members.</p>
<pre><code class="lang-sql"><span class="hljs-comment">-- Calculate ride duration in minutes and group by user type</span>
WITH ordered_rides AS (
  <span class="hljs-keyword">SELECT</span> member_casual,
         (JULIANDAY(ended_at) - JULIANDAY(started_at)) * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> <span class="hljs-keyword">AS</span> ride_duration,
         ROW_NUMBER() <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">PARTITION</span> <span class="hljs-keyword">BY</span> member_casual <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> (JULIANDAY(ended_at) - JULIANDAY(started_at)) * <span class="hljs-number">24</span> * <span class="hljs-number">60</span>) <span class="hljs-keyword">AS</span> row_num,
         <span class="hljs-keyword">COUNT</span>(*) <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">PARTITION</span> <span class="hljs-keyword">BY</span> member_casual) <span class="hljs-keyword">AS</span> total_rides
  <span class="hljs-keyword">FROM</span> rides
)
<span class="hljs-keyword">SELECT</span> member_casual, <span class="hljs-keyword">AVG</span>(ride_duration) <span class="hljs-keyword">AS</span> median_ride_duration
<span class="hljs-keyword">FROM</span> ordered_rides
<span class="hljs-keyword">WHERE</span> row_num <span class="hljs-keyword">IN</span> (total_rides / <span class="hljs-number">2</span>, total_rides / <span class="hljs-number">2</span> + <span class="hljs-number">1</span>)
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> member_casual;

Output:
| member_casual | median_ride_duration |
| <span class="hljs-comment">------------- | -------------------- |</span>
| casual        | 11.8500000983477     |
| member        | 8.51666674017906     |
</code></pre>
<p>Insights:</p>
<ul>
<li>Casual riders tend to have longer ride durations compared to members.</li>
<li>Members’ ride durations are more consistent, possibly reflecting regular commuting routes.</li>
</ul>
<h3 id="4-most-popular-start-and-end-stations">4. Most Popular Start and End Stations</h3>
<p>Identifying the most popular stations can provide insights into high-traffic areas, helping Cyclistic optimize bike station locations and availability.</p>
<pre><code class="lang-sql">-- Find the most common start and end stations by user type
SELECT member_casual, start_station_name, COUNT(<span class="hljs-symbol">*</span>) AS start_count
FROM rides
GROUP BY member_casual, start_station_name
ORDER BY start_count DESC
LIMIT 10;

Output:
|<span class="hljs-string"> member_casual </span>|<span class="hljs-string"> start_station_name                </span>|<span class="hljs-string"> start_count </span>|
|<span class="hljs-string"> ------------- </span>|<span class="hljs-string"> --------------------------------- </span>|<span class="hljs-string"> ----------- </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string">                                   </span>|<span class="hljs-string"> 549516      </span>|
|<span class="hljs-string"> casual        </span>|<span class="hljs-string">                                   </span>|<span class="hljs-string"> 326056      </span>|
|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> Streeter Dr &amp; Grand Ave           </span>|<span class="hljs-string"> 46030       </span>|
|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> DuSable Lake Shore Dr &amp; Monroe St </span>|<span class="hljs-string"> 30487       </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string"> Clinton St &amp; Washington Blvd      </span>|<span class="hljs-string"> 26216       </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string"> Kingsbury St &amp; Kinzie St          </span>|<span class="hljs-string"> 26171       </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string"> Clark St &amp; Elm St                 </span>|<span class="hljs-string"> 25001       </span>|
|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> Michigan Ave &amp; Oak St             </span>|<span class="hljs-string"> 22664       </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string"> Wells St &amp; Concord Ln             </span>|<span class="hljs-string"> 21418       </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string"> Clinton St &amp; Madison St           </span>|<span class="hljs-string"> 20596       </span>|

SELECT member_casual, end_station_name, COUNT(<span class="hljs-symbol">*</span>) AS end_count
FROM rides
GROUP BY member_casual, end_station_name
ORDER BY end_count DESC
LIMIT 10;

Output:
|<span class="hljs-string"> member_casual </span>|<span class="hljs-string"> end_station_name                   </span>|<span class="hljs-string"> end_count </span>|
|<span class="hljs-string"> ------------- </span>|<span class="hljs-string"> ---------------------------------- </span>|<span class="hljs-string"> --------- </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string">                                    </span>|<span class="hljs-string"> 547207    </span>|
|<span class="hljs-string"> casual        </span>|<span class="hljs-string">                                    </span>|<span class="hljs-string"> 381881    </span>|
|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> Streeter Dr &amp; Grand Ave            </span>|<span class="hljs-string"> 49310     </span>|
|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> DuSable Lake Shore Dr &amp; Monroe St  </span>|<span class="hljs-string"> 27539     </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string"> Clinton St &amp; Washington Blvd       </span>|<span class="hljs-string"> 27445     </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string"> Kingsbury St &amp; Kinzie St           </span>|<span class="hljs-string"> 26366     </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string"> Clark St &amp; Elm St                  </span>|<span class="hljs-string"> 24858     </span>|
|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> Michigan Ave &amp; Oak St              </span>|<span class="hljs-string"> 23688     </span>|
|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> DuSable Lake Shore Dr &amp; North Blvd </span>|<span class="hljs-string"> 23255     </span>|
|<span class="hljs-string"> member        </span>|<span class="hljs-string"> Wells St &amp; Concord Ln              </span>|<span class="hljs-string"> 22248     </span>|
</code></pre>
<p>Insights:</p>
<ul>
<li>The blank entries in both <strong>start</strong> and <strong>end</strong> stations are primarily related to <strong>electric bikes</strong>, which likely means that users of electric bikes are able to leave them outside designated docking stations. This suggests that Cyclistic&#39;s electric bike system offers more flexibility in where bikes can be parked.</li>
<li><strong>Casual riders</strong> tend to start and end their trips near tourist attractions and recreational areas.</li>
<li><strong>Members</strong>, on the other hand, favor starting and ending trips at stations near business districts and residential areas, which likely indicates regular commuting behavior.</li>
</ul>
<h3 id="5-peak-riding-hours">5. Peak Riding Hours</h3>
<p>Analyzing the peak hours of bike usage can reveal when Cyclistic experiences the highest demand for bikes, allowing the company to better manage bike availability.</p>
<pre><code class="lang-sql">-- Extract the hour of the day and count rides by user type
SELECT STRFTIME('%H', started_at) AS hour_of_day, member_casual, COUNT(<span class="hljs-symbol">*</span>) AS ride_count
FROM rides
GROUP BY hour_of_day, member_casual
ORDER BY ride_count DESC
LIMIT 15;

Output:
|<span class="hljs-string"> hour_of_day </span>|<span class="hljs-string"> member_casual </span>|<span class="hljs-string"> ride_count </span>|
|<span class="hljs-string"> ----------- </span>|<span class="hljs-string"> ------------- </span>|<span class="hljs-string"> ---------- </span>|
|<span class="hljs-string"> 17          </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 387954     </span>|
|<span class="hljs-string"> 16          </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 331627     </span>|
|<span class="hljs-string"> 18          </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 307783     </span>|
|<span class="hljs-string"> 15          </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 246733     </span>|
|<span class="hljs-string"> 08          </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 244214     </span>|
|<span class="hljs-string"> 19          </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 217966     </span>|
|<span class="hljs-string"> 14          </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 201897     </span>|
|<span class="hljs-string"> 12          </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 199938     </span>|
|<span class="hljs-string"> 17          </span>|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> 199270     </span>|
|<span class="hljs-string"> 13          </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 198732     </span>|
|<span class="hljs-string"> 07          </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 194602     </span>|
|<span class="hljs-string"> 16          </span>|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> 182494     </span>|
|<span class="hljs-string"> 11          </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 176374     </span>|
|<span class="hljs-string"> 18          </span>|<span class="hljs-string"> casual        </span>|<span class="hljs-string"> 172190     </span>|
|<span class="hljs-string"> 09          </span>|<span class="hljs-string"> member        </span>|<span class="hljs-string"> 164910     </span>|
</code></pre>
<p>Insights:</p>
<ul>
<li>Annual members primarily use the service during typical commuting hours (7-9 AM and 5-7 PM), which shows a clear pattern of consistent daily usage, likely linked to work schedules.</li>
<li>Casual riders tend to ride more in the afternoon and early evening, with their usage peaking around 4-6 PM. This behavior is more frequent on weekends, possibly indicating leisure activities rather than daily commutes.</li>
<li>The data reveals a clear weekday commuting pattern for members, while casual riders tend to use the bikes more flexibly, with afternoon peaks aligning with non-work-related trips.</li>
</ul>
<h2 id="share">Share</h2>
<h3 id="1-summary-of-key-insights">1. Summary of Key Insights</h3>
<ul>
<li><strong>Casual riders</strong> take longer rides but ride less frequently than <strong>annual members</strong>, who ride more often for shorter durations.</li>
<li><strong>Annual members</strong> consistently use the service on weekdays, particularly during morning (7-9 AM) and evening (5-7 PM) commuting hours.</li>
<li><strong>Casual riders</strong> are most active on weekends, with peak usage in the afternoon and early evening, suggesting leisure activity.</li>
<li><strong>Electric bikes</strong> are used by both casual riders and members, but casual riders tend to take longer trips with them.</li>
<li>Popular start and end stations for <strong>annual members</strong> are near business districts and residential areas, while <strong>casual riders</strong> prefer tourist spots and parks.</li>
<li>There is a clear distinction in <strong>peak riding hours</strong>: annual members prefer commuting times, while casual riders are more active during leisure hours in the afternoon and evening.</li>
</ul>
<h3 id="2-recommendations">2. Recommendations</h3>
<ul>
<li><strong>Targeted Marketing Campaigns</strong>: Tailor marketing efforts to attract casual riders during their peak times (weekends and afternoons). Weekend passes or promotions for scenic routes and tourist destinations could be effective.</li>
<li><strong>Convert Casual Riders to Annual Members</strong>: Encourage casual riders to switch to an annual membership by highlighting the cost savings and convenience, especially for frequent electric bike users.</li>
<li><strong>Optimize Bike Availability During Peak Hours</strong>: Ensure that key stations in business districts are stocked with enough bikes, especially electric ones, during peak commuting hours (7-9 AM and 5-7 PM).</li>
<li><strong>Station Expansion</strong>: Expand bike stations near popular tourist and leisure areas to meet the high demand from casual riders during weekends.</li>
<li><strong>Commuter-Friendly Features</strong>: Implement commuter-friendly features like priority docking or notifications about station availability during peak times for annual members.</li>
</ul>
<h3 id="3-next-steps-visualization">3. Next Steps: Visualization</h3>
<p>To better communicate the insights from this analysis, a series of visualizations will be created, including:</p>
<ul>
<li><strong>Ride Duration Distribution</strong>: To compare the distribution of ride durations between casual riders and members.</li>
<li><strong>Ride Patterns by Day of the Week</strong>: A breakdown of rides per day, segmented by user type.</li>
<li><strong>Peak Riding Hours</strong>: A graph displaying peak riding hours for both casual riders and annual members.</li>
<li><strong>Start and End Stations</strong>: A map visualization of the most popular start and end stations by user type.</li>
<li><strong>Electric Bike Usage</strong>: A chart comparing electric bike usage between casual riders and members.</li>
</ul>
<p>These visualizations will be included in the final report, which will be shared as a PDF along with this analysis.</p>
